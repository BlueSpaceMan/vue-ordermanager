<template>
  <div>
    <!-- 数据可视化 -->
    <el-row :gutter="20">
      <el-col :span="6"
        ><div class="bg-purple">
          <svg
            t="1659941101865"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="2265"
            width="64"
            height="64"
          >
            <path
              d="M714.666667 117.333333v64h170.666666v704h-746.666666v-704h170.666666v-64h405.333334z m-405.333334 128h-106.666666v576h618.666666v-576h-106.666666v64h-405.333334v-64zM704 618.666667v64H320v-64h384z m0-192v64H320v-64h384zM650.666667 181.333333h-277.333334v64h277.333334v-64z"
              fill="#1677FF"
              p-id="2266"
            ></path>
          </svg>
          <div class="titlebox">
            <p style="white-space: pre-wrap">总订单：</p>
            <span>{{ totalOrder }}</span>
          </div>
        </div></el-col
      >
      <el-col :span="6"
        ><div class="bg-purple">
          <svg t="1659964508852" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1733" width="64" height="64"><path d="M960 179.712c0-36.352-32.256-68.608-91.136-90.624-51.712-19.456-120.32-30.208-192.512-30.208-72.192 0-140.8 10.752-192.512 30.208C424.448 111.104 392.192 143.36 392.192 179.712V353.28c-22.528-2.048-46.08-3.584-70.144-3.584-72.192 0-140.8 10.752-192.512 30.208C70.656 402.432 38.4 434.688 38.4 471.04V844.288c0 36.352 32.256 68.608 91.136 90.624 51.712 19.456 120.32 30.208 192.512 30.208 72.192 0 140.8-10.752 192.512-30.208 51.2-19.456 82.432-46.08 89.6-76.8 23.552 2.56 47.616 3.584 71.68 3.584 72.192 0 140.8-10.752 192.512-30.208 58.88-22.016 91.136-54.272 91.136-90.624v-1.536-1.536l0.512-558.08z m-45.568 422.4c0 31.232-93.184 75.776-238.592 75.776-24.064 0-47.616-1.024-70.144-3.584v-93.184c23.04 2.56 46.08 3.584 70.144 3.584 72.192 0 140.8-10.752 192.512-30.208 17.92-6.656 33.28-14.336 46.08-22.528v70.144z m-353.792-1.024c0 31.232-93.184 75.776-238.592 75.776-145.408 0-238.592-45.056-238.592-75.776v-61.952c12.8 8.192 28.16 15.872 46.08 22.528 51.712 19.456 120.32 30.208 192.512 30.208 72.192 0 140.8-10.752 192.512-30.208 17.92-6.656 33.28-14.336 46.08-22.528v61.952z m-477.184 68.096c12.8 8.192 28.16 15.872 46.08 22.528 51.712 19.456 120.32 30.208 192.512 30.208 72.192 0 140.8-10.752 192.512-30.208 17.92-6.656 33.28-14.336 46.08-22.528v53.76c0 31.232-93.184 75.776-238.592 75.776-145.408 0-238.592-45.056-238.592-75.776v-53.76z m830.976-205.312c0 31.232-93.184 75.776-238.592 75.776-24.064 0-47.616-1.024-70.144-3.584V471.04c0-9.728-2.56-19.456-7.168-28.672 25.088 2.56 50.688 4.096 77.312 4.096 72.192 0 140.8-10.752 192.512-30.208 17.92-6.656 33.28-14.336 46.08-22.528v70.144z m0-138.752c0 31.232-93.184 75.776-238.592 75.776-145.408 0-238.592-45.056-238.592-75.776V247.808c12.8 8.192 28.16 15.872 46.08 22.528 51.712 19.456 120.32 30.208 192.512 30.208s140.8-10.752 192.512-30.208c17.92-6.656 33.28-14.336 46.08-22.528v77.312zM675.84 103.424c145.408 0 238.592 45.056 238.592 75.776S821.76 255.488 675.84 255.488c-145.408 0-238.592-45.056-238.592-75.776s93.184-76.288 238.592-76.288zM322.048 394.752c32.256 0 61.44 2.048 88.064 6.144 1.024 0 1.536 0.512 2.56 0.512 92.16 13.312 147.968 45.568 147.968 69.632 0 31.232-93.184 75.776-238.592 75.776-145.408 0-238.592-45.056-238.592-75.776s92.672-76.288 238.592-76.288z m0 525.824c-145.408 0-238.592-45.056-238.592-75.776v-1.536V791.04c12.8 8.192 28.16 15.872 46.08 22.528 51.712 19.456 120.32 30.208 192.512 30.208 72.192 0 140.8-10.752 192.512-30.208 17.92-6.656 33.28-14.336 46.08-22.528V844.8c0 30.72-93.184 75.776-238.592 75.776z m353.792-103.936c-24.064 0-47.616-1.024-70.144-3.584v-93.184c23.04 2.56 46.08 3.584 70.144 3.584 72.192 0 140.8-10.752 192.512-30.208 17.92-6.656 33.28-14.336 46.08-22.528v70.656c0 30.208-92.672 75.264-238.592 75.264z" fill="#d4237a" p-id="1734"></path></svg>
          <div class="titlebox">
            <p style="white-space: pre-wrap">总销售额：</p>
            <span>{{ totalAmount }}</span>
          </div>
        </div></el-col
      >
      <el-col :span="6"
        ><div class="bg-purple">
          <svg
            t="1659941186999"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="4177"
            width="64"
            height="64"
          >
            <path
              d="M733.866667 998.4H364.8c-81.066667 0-147.2-66.133333-147.2-147.2 0-17.066667 14.933333-32 32-32s32 14.933333 32 32c0 44.8 36.266667 83.2 83.2 83.2h371.2c44.8 0 83.2-36.266667 83.2-83.2V313.6c0-38.4-12.8-89.6-125.866667-89.6-17.066667 0-32-14.933333-32-32s14.933333-32 32-32c170.666667 0 189.866667 106.666667 189.866667 153.6V853.333333c-2.133333 81.066667-68.266667 145.066667-149.333333 145.066667z"
              fill="#1296db"
              p-id="4178"
            ></path>
            <path
              d="M576 878.933333H206.933333c-81.066667 0-147.2-66.133333-147.2-147.2V192c0-81.066667 66.133333-147.2 147.2-147.2H576c81.066667 0 147.2 66.133333 147.2 147.2v539.733333c0 81.066667-66.133333 147.2-147.2 147.2zM123.733333 192v539.733333c0 44.8 36.266667 83.2 83.2 83.2H576c44.8 0 83.2-36.266667 83.2-83.2V192c0-44.8-36.266667-83.2-83.2-83.2H206.933333C177.066667 108.8 123.733333 147.2 123.733333 192z"
              fill="#1296db"
              p-id="4179"
            ></path>
            <path
              d="M381.866667 279.466667h-110.933334c-17.066667 0-32-14.933333-32-32s14.933333-32 32-32h110.933334c17.066667 0 32 14.933333 32 32s-14.933333 32-32 32zM469.333333 465.066667h-192c-17.066667 0-32-14.933333-32-32s14.933333-32 32-32h192c17.066667 0 32 14.933333 32 32s-12.8 32-32 32z"
              fill="#1296db"
              p-id="4180"
            ></path>
          </svg>
          <div class="titlebox">
            <p style="white-space: pre-wrap">今日订单数：</p>
            <span>{{ todayOrder }}</span>
          </div>
        </div></el-col
      >
      <el-col :span="6"
        ><div class="bg-purple">
         <svg t="1659964456251" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1476" width="64" height="64"><path d="M512.483467 824.946804c27.883666 0 50.394238-22.577306 50.394238-50.399294l0-100.655009 101.466938 0c28.087912 0 50.665218-22.577306 50.665218-50.532762 0-27.816932-22.577306-50.527706-50.665218-50.527706L562.877705 572.832034l0-50.532762 101.466938 0c28.087912 0 50.665218-22.510572 50.665218-50.466028 0-27.883666-22.577306-50.460972-50.665218-50.460972l-76.269819 0 69.681359-69.819882c19.691569-19.686513 19.691569-51.671283 0-71.495309-19.686513-19.686513-51.738017-19.686513-71.429586 0.07179l-66.855277 66.922011-66.928078-66.922011c-19.686513-19.758303-51.671283-19.758303-71.429586-0.07179-19.753247 19.824026-19.753247 51.808796 0 71.495309l69.748093 69.819882-89.572118 0c-27.817943 0-50.527706 22.577306-50.527706 50.460972 0 27.955455 22.709763 50.466028 50.527706 50.466028l100.59333 0 0 50.532762-100.59333 0c-27.817943 0-50.527706 22.711785-50.527706 50.527706 0 27.955455 22.709763 50.532762 50.527706 50.532762l100.59333 0 0 100.655009C461.950706 802.369497 484.594746 824.946804 512.483467 824.946804L512.483467 824.946804zM512.483467 824.946804M955.837496 294.708215c-1.814961-4.97269-4.101104-9.540932-7.054587-13.642036-0.404448-0.670373-0.809907-1.409502-1.075832-2.081897l-0.537916 0.201213c-8.802814-10.883699-22.305315-17.805829-37.29113-17.805829-26.879623 0-48.717801 21.634942-48.717801 48.44682 0 12.366002 4.700699 23.655161 12.36398 32.185983 26.879623 54.161673 41.996884 115.107963 41.996884 179.615419 0 223.223017-180.958187 404.115481-404.047736 404.115481-223.088538 0-403.975946-180.82573-403.975946-404.115481 0-223.088538 180.887408-403.981002 403.975946-403.981002 87.219241 0 167.922823 27.61673 233.907526 74.587315 9.073794 12.099066 23.653138 19.89076 39.915998 19.89076 27.549996 0 49.855311-22.378116 49.855311-49.788577 0-14.046484-5.91101-26.612688-15.11726-35.681426L820.034933 126.58519c-0.265925-0.204246-0.671384-0.471182-0.805863-0.670373-2.081897-1.954496-4.300295-3.629922-6.853374-5.244681C727.84199 55.423551 621.674354 16.517662 506.499657 16.517662c-277.045965 0-501.546027 224.566796-501.546027 501.612761 0 276.980242 224.565785 501.546027 501.546027 501.546027s501.546027-224.565785 501.546027-501.546027C1008.180163 437.899034 989.298501 361.968951 955.837496 294.708215L955.837496 294.708215zM955.837496 294.708215" p-id="1477" fill="#1afa29"></path></svg>
          <div class="titlebox">
            <p style="white-space: pre-wrap">今日销售额：</p>
            <span>{{ totayAmount }}</span>
          </div>
        </div></el-col
      >
    </el-row>

    <!-- Echarts表格 -->
    <div id="echartsTable"></div>
  </div>
</template>

<script>
import * as echarts from "echarts";
import { echartsTotalData } from "@/api/apis";

export default {
  data() {
    return {
      // 总订单
      totalOrder: "",
      // 总销售额
      totalAmount: "",
      // 今日订单
      todayOrder: "",
      // 今日销售额
      totayAmount: "",
    };
  },
  mounted() {
    let echartsIndex = echarts.init(document.querySelector("#echartsTable"));

    echartsTotalData().then((res) => {
       for(let key in res.data){
        // 循环赋值
        this[key] = res.data[key]
      }
      console.log(res);
      // this.totalOrder = res.data.totalOrder;
      // this.totalAmount = res.data.totalAmount;
      // this.todayOrder = res.data.todayOrder;
      // this.todayAmount = res.data.totayAmount;
      // 创建配置对象
      let option = {
        title: {
          text: "数据统计",
        },
        tooltip: {
          trigger: "axis",
        },
        legend: {
          // 顶部描述
          data: ["金额数据", "订单数据"],
        },
        grid: {
          left: "3%",
          right: "4%",
          bottom: "3%",
          containLabel: true,
        },
        toolbox: {
          feature: {
            saveAsImage: {},
          },
        },
        xAxis: {
          // x轴数据
          type: "category",
          boundaryGap: false,
          data: res.data.xData,
        },
        yAxis: {
          // y轴数据
          type: "value",
        },
        series: [
          {
            name: "金额数据",
            type: "line",
            stack: "Total",
            data: res.data.amountData,
          },
          {
            name: "订单数据",
            type: "line",
            stack: "Total",
            data: res.data.orderData,
          },
        ],
      };

      echartsIndex.setOption(option);
    });
  },
};
</script>

<style lang="less" scoped>
.el-row {
  margin-bottom: 20px;
  &:last-child {
    margin-bottom: 0;
  }
}
.el-col {
  border-radius: 4px;
}

.bg-purple {
  background: #fff;
  border-radius: 4px;
  // min-height: 36px;
  height: 100px;
  line-height: 100px;
  display: flex;
  justify-content: space-around;
  align-items: center;
  .titlebox {
    display: flex;
    p {
      font-size: 20px;
      color: #ccc;
    }
    span {
      font-size: 22px;
      font-weight: bold;
      margin: 0;
    }
  }
}
#echartsTable {
  margin-top: 30px;
  height: 600px;
  width: 100%;
  background: #fff;
}
</style>